# ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ¤œçŸ¥ã«ã‚ˆã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå‹•çš„æœ€é©åŒ–

## ãƒ¡ã‚¿æƒ…å ±

| é …ç›® | å†…å®¹ |
|:---|:---|
| ã‚¤ã‚·ãƒ¥ãƒ¼ID | FEAT-001 |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | â³ å¯¾å¿œå¾…ã¡ |
| å„ªå…ˆåº¦ | P1 ğŸŸ  High |
| ä½œæˆæ—¥ | 2024-12-28 |
| æ›´æ–°æ—¥ | 2024-12-28 |
| æ‹…å½“è€… | - |
| é–¢é€£ã‚¤ã‚·ãƒ¥ãƒ¼ | - |

---

## 1. èƒŒæ™¯ãƒ»ç›®çš„

ç¾åœ¨ã‚«ãƒ¼ã‚½ãƒ«ã‚’åˆã‚ã›ã¦ã„ã‚‹ï¼ˆã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªï¼‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è‡ªå‹•çš„ã«æ¤œå‡ºã—ã€ãã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆï¼ˆã‚¢ãƒ—ãƒªã®ç¨®é¡ã‚„çŠ¶æ³ï¼‰ã«å¿œã˜ã¦ã€LLMï¼ˆGroq/Geminiï¼‰ã¸ã®æŒ‡ç¤ºï¼ˆã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ã‚’å‹•çš„ã«åˆ‡ã‚Šæ›¿ãˆã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã™ã‚‹ã€‚

**ç›®æ¨™:**
- IDEã§ã¯ã€Œã‚³ãƒ¼ãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆãƒ»å¤‰æ•°åå½¢å¼ã€
- ãƒãƒ£ãƒƒãƒˆãƒ„ãƒ¼ãƒ«ã§ã¯ã€Œãƒ“ã‚¸ãƒã‚¹æ•¬èªã€
- ãƒ¡ãƒ¢å¸³ã§ã¯ã€Œãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³è¨˜æ³•ã€

ã¨ã„ã£ãŸæœ€é©ãªå‡ºåŠ›ã‚’è‡ªå‹•ã§å¾—ã‚‹ã€‚

---

## 2. ç¾çŠ¶ã®å•é¡Œç‚¹

- ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¯ `config.py` ã® `DEFAULT_SETTINGS` ã‹ã‚‰**å›ºå®šå€¤**ã§å–å¾—ã•ã‚Œã‚‹
- **ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ¤œå‡ºæ©Ÿèƒ½ãŒå­˜åœ¨ã—ãªã„**
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã«å¿œã˜ãŸå‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆãƒ­ã‚¸ãƒƒã‚¯ãŒãªã„
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¢ãƒ—ãƒªã”ã¨ã®ã‚«ãƒ†ã‚´ãƒªã‚’ç·¨é›†ãƒ»è¿½åŠ ã™ã‚‹æ‰‹æ®µãŒãªã„

---

## 3. å®Ÿè£…æ–¹é‡

```
[éŒ²éŸ³çµ‚äº†] 
    â†“
[get_active_window()] â†’ "Visual Studio Code - project/main.py"
    â†“
[detect_category()] â†’ "DEV"
    â†“
[generate_context_prompt()]
    â†“
ã€å‹•çš„ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆã€‘
    â†“
[AIWorker] â†’ [Groq/Gemini]
    â†“
[æœ€é©åŒ–ã•ã‚ŒãŸãƒ†ã‚­ã‚¹ãƒˆå‡ºåŠ›]
```

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
src/core/
â”œâ”€â”€ window_detector.py   # ã€æ–°è¦ã€‘OSåˆ¥ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ¤œå‡º
â”œâ”€â”€ context_prompt.py    # ã€æ–°è¦ã€‘ã‚«ãƒ†ã‚´ãƒªåˆ¤å®šï¼‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ
â””â”€â”€ config.py            # ã€ä¿®æ­£ã€‘ã‚«ãƒ†ã‚´ãƒªè¨­å®šè¿½åŠ 

src/ui/
â”œâ”€â”€ settings.py          # ã€ä¿®æ­£ã€‘ã‚«ãƒ†ã‚´ãƒªç·¨é›†ã‚¿ãƒ–è¿½åŠ 
â””â”€â”€ overlay.py           # ã€ä¿®æ­£ã€‘éŒ²éŸ³çµ‚äº†æ™‚ã«ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—

src/ai/providers/
â”œâ”€â”€ groq.py              # ã€ä¿®æ­£ã€‘å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ
â””â”€â”€ gemini.py            # ã€ä¿®æ­£ã€‘å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ
```

---

## 4. å…·ä½“çš„ãªè¦ä»¶

### A. ã‚¢ãƒ—ãƒªæœ¬ä½“ï¼ˆPythonï¼‰

| å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ« | å¤‰æ›´å†…å®¹ |
|:---|:---|
| `src/core/window_detector.py` | ã€æ–°è¦ã€‘OSåˆ¥ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ãƒ»ãƒ—ãƒ­ã‚»ã‚¹åå–å¾— |
| `src/core/context_prompt.py` | ã€æ–°è¦ã€‘ã‚«ãƒ†ã‚´ãƒªåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯ï¼‹å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç”Ÿæˆ |
| `src/core/config.py` | ã‚«ãƒ†ã‚´ãƒªè¨­å®šã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤è¿½åŠ ï¼ˆ`app_categories`, `category_prompts`ï¼‰ |
| `src/ui/overlay.py` | `stop_recording()` ã§ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æƒ…å ±å–å¾—â†’ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆæ³¨å…¥ |
| `src/ai/providers/groq.py` | refineãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¸ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±è¿½åŠ  |
| `src/ai/providers/gemini.py` | transcribeãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¸ã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæƒ…å ±è¿½åŠ  |

### B. UIï¼ˆPyQt6ï¼‰

| å¯¾è±¡UI/ç”»é¢ | å¤‰æ›´å†…å®¹ |
|:---|:---|
| `SettingsDialog` | ã€Œã‚¢ãƒ—ãƒªã‚«ãƒ†ã‚´ãƒªã€ã‚¿ãƒ–è¿½åŠ  |
| ã‚«ãƒ†ã‚´ãƒªç·¨é›†UI | ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®è¿½åŠ ãƒ»ç·¨é›†ãƒ»å‰Šé™¤æ©Ÿèƒ½ |
| æ¤œå‡ºå±¥æ­´è¡¨ç¤º | éå»ã«æ¤œå‡ºã—ãŸã‚¢ãƒ—ãƒªä¸€è¦§ã®è¡¨ç¤ºï¼‹ã‚«ãƒ†ã‚´ãƒªæŒ¯ã‚Šåˆ†ã‘ |
| ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›† | å„ã‚«ãƒ†ã‚´ãƒªã®ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºå¯èƒ½ã« |

### C. ãƒ‡ãƒ¼ã‚¿/æ°¸ç¶šåŒ–

| å¯¾è±¡ | å¤‰æ›´å†…å®¹ |
|:---|:---|
| `settings.json` | `app_categories` ã‚­ãƒ¼è¿½åŠ ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ï¼‰ |
| `settings.json` | `category_prompts` ã‚­ãƒ¼è¿½åŠ ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆï¼‰ |
| `settings.json` | `detected_apps` ã‚­ãƒ¼è¿½åŠ ï¼ˆæ¤œå‡ºæ¸ˆã¿ã‚¢ãƒ—ãƒªå±¥æ­´ï¼‰ |

---

## 5. æ©Ÿèƒ½è©³ç´°ä»•æ§˜

### 5.1 ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æƒ…å ±ã®å–å¾—

| OS | å–å¾—æ‰‹æ³• | å–å¾—æƒ…å ± |
|:---|:---|:---|
| Windows | `Win32 API (GetForegroundWindow, GetWindowText)` | ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«, ãƒ—ãƒ­ã‚»ã‚¹å |
| macOS | `AppleScript (osascript)` | ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å, ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ« |
| Linux | `xdotool getactivewindow getwindowname` | ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å |

**æˆ»ã‚Šå€¤:**
```python
{
    "title": "Visual Studio Code - main.py",
    "process": "Code.exe",  # Windowsã®ã¿
    "app_name": "Visual Studio Code"
}
```

**ã‚¨ãƒ©ãƒ¼æ™‚:** `{"title": "", "process": "", "app_name": ""}` ã‚’è¿”ã—ã€`STD` ãƒ¢ãƒ¼ãƒ‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯

### 5.2 ã‚«ãƒ†ã‚´ãƒªåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

| ã‚«ãƒ†ã‚´ãƒªID | åˆ†é¡å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆåˆ¤å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ (å¤§æ–‡å­—å°æ–‡å­—ç„¡è¦–) |
|:---|:---|:---|
| `DEV` | é–‹ç™ºãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚° | code, terminal, iterm, cursor, intellij, pycharm, vim, neovim, bash, powershell, git, vscode, android studio, xcode |
| `BIZ` | ãƒ“ã‚¸ãƒã‚¹ãƒ»é€£çµ¡ | mail, gmail, outlook, slack, teams, zoom, discord, thunderbird, chatwork, line |
| `DOC` | æ–‡æ›¸ä½œæˆãƒ»ãƒ¡ãƒ¢ | word, powerpoint, notion, obsidian, memo, note, writer, text, evernote, onenote, typora |
| `STD` | æ¨™æº– (Default) | ä¸Šè¨˜ã«è©²å½“ã—ãªã„ã™ã¹ã¦ |

### 5.3 ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

#### DEVï¼ˆé–‹ç™ºãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ¼ãƒ‰ï¼‰
```
ã€å½¹å‰²ã€‘ç†Ÿç·´ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ
ã€æŒ‡ç¤ºã€‘
- å…¥åŠ›ãƒ†ã‚­ã‚¹ãƒˆã‚’ã‚³ãƒ¼ãƒ‰ã‚³ãƒ¡ãƒ³ãƒˆã€ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã€å¤‰æ•°åã¨ã—ã¦é©åˆ‡ãªå½¢å¼ã«å¤‰æ›
- å¤‰æ•°åã¯ `snake_case` ã¾ãŸã¯ `camelCase` ã‚’é©ç”¨
- ãƒ©ã‚¤ãƒ–ãƒ©ãƒªåãƒ»ã‚³ãƒãƒ³ãƒ‰åã¯æ­£ã—ã„è‹±å˜èªã‚¹ãƒšãƒ«ã«ä¿®æ­£
- å‡ºåŠ›ã¯æ¥µã‚ã¦ç°¡æ½”ã«
```

#### BIZï¼ˆãƒ“ã‚¸ãƒã‚¹ãƒ»é€£çµ¡ãƒ¢ãƒ¼ãƒ‰ï¼‰
```
ã€å½¹å‰²ã€‘å„ªç§€ãªãƒ“ã‚¸ãƒã‚¹ç§˜æ›¸
ã€æŒ‡ç¤ºã€‘
- å£èªä½“ã‚’ä¸å¯§ãªã€Œãƒ“ã‚¸ãƒã‚¹æ•¬èªï¼ˆã§ã™ãƒ»ã¾ã™èª¿ï¼‰ã€ã«å¤‰æ›
- ãƒ¡ãƒ¼ãƒ«ã®å ´åˆã¯æœ¬æ–‡ã¨ã—ã¦é©åˆ‡ãªå½¢å¼ã«æ•´å½¢
- æ–‡è„ˆã«å¿œã˜ã¦é©åˆ‡ãªæ”¹è¡Œã‚’æŒ¿å…¥
```

#### DOCï¼ˆæ–‡æ›¸ä½œæˆãƒ»ãƒ¡ãƒ¢ãƒ¢ãƒ¼ãƒ‰ï¼‰
```
ã€å½¹å‰²ã€‘ãƒ—ãƒ­ã®ãƒ©ã‚¤ã‚¿ãƒ¼ãƒ»ç·¨é›†è€…
ã€æŒ‡ç¤ºã€‘
- è«–ç†æ§‹æˆã‚’æ•´ãˆã€èª­ã¿ã‚„ã™ã„ã€Œæ›¸ãè¨€è‘‰ã€ã«å¤‰æ›
- å¿…è¦ã§ã‚ã‚Œã°Markdownå½¢å¼ï¼ˆç®‡æ¡æ›¸ãç­‰ï¼‰ã‚’ä½¿ç”¨
- æ–‡ä½“ï¼ˆã ãƒ»ã§ã‚ã‚‹ï¼ã§ã™ãƒ»ã¾ã™ï¼‰ã‚’å…¥åŠ›ã®é›°å›²æ°—ã«åˆã‚ã›ã¦çµ±ä¸€
```

#### STDï¼ˆæ¨™æº–ãƒ¢ãƒ¼ãƒ‰ï¼‰
```
ã€å½¹å‰²ã€‘ãƒ†ã‚¯ãƒ‹ã‚«ãƒ«ãƒ©ã‚¤ã‚¿ãƒ¼
ã€æŒ‡ç¤ºã€‘
- ãƒ•ã‚£ãƒ©ãƒ¼ï¼ˆãˆãƒ¼ã€ã‚ãƒ¼ï¼‰ã®å®Œå…¨é™¤å»
- ITç”¨èªãƒ»å›ºæœ‰åè©ã®è‹±å˜èªåŒ–ï¼ˆã‚«ã‚¿ã‚«ãƒŠç¦æ­¢ï¼‰
- èª¤å­—è„±å­—ã®ä¿®æ­£
```

### 5.4 è¨­å®šç”»é¢UIä»•æ§˜

#### ã€Œã‚¢ãƒ—ãƒªã‚«ãƒ†ã‚´ãƒªã€ã‚¿ãƒ–

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ·ï¸ App Categories                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                         â”‚
â”‚ [ã‚«ãƒ†ã‚´ãƒªé¸æŠ: â–¼ DEV - é–‹ç™ºãƒ»ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°]              â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ä¸€è¦§                                      â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚ â”‚ code                                      [Ã—]  â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ terminal                                  [Ã—]  â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ cursor                                    [Ã—]  â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ vscode                                    [Ã—]  â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ ...                                            â”‚  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â”‚ [+ ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ ]                                  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ                                â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚ â”‚ (ç·¨é›†å¯èƒ½ãªãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒªã‚¢)                     â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ ç†Ÿç·´ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒã¨ã—ã¦...                      â”‚  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ğŸ“‹ æ¤œå‡ºæ¸ˆã¿ã‚¢ãƒ—ãƒªå±¥æ­´                               â”‚ â”‚
â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚ â”‚ â”‚ ã‚¢ãƒ—ãƒªå                   â”‚ ã‚«ãƒ†ã‚´ãƒª â”‚ æ“ä½œ   â”‚  â”‚ â”‚
â”‚ â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚ â”‚
â”‚ â”‚ â”‚ Visual Studio Code         â”‚ DEV      â”‚ [å¤‰æ›´] â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ Slack                      â”‚ BIZ      â”‚ [å¤‰æ›´] â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ ãƒ¡ãƒ¢å¸³                     â”‚ DOC      â”‚ [å¤‰æ›´] â”‚  â”‚ â”‚
â”‚ â”‚ â”‚ Chrome                     â”‚ STD      â”‚ [å¤‰æ›´] â”‚  â”‚ â”‚
â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚                              [ãƒªã‚»ãƒƒãƒˆ] [é©ç”¨] [ä¿å­˜]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. æŒ™å‹•ã‚·ãƒŠãƒªã‚ªï¼ˆãƒ¦ãƒ¼ã‚¹ã‚±ãƒ¼ã‚¹ï¼‰

| ã‚·ãƒãƒ¥ã‚¨ãƒ¼ã‚·ãƒ§ãƒ³ | æœŸå¾…ã™ã‚‹æŒ™å‹• |
|:---|:---|
| VS Code ã§éŒ²éŸ³çµ‚äº† | ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ã« "Code" ã‚’æ¤œå‡º â†’ DEV ãƒ¢ãƒ¼ãƒ‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé©ç”¨ â†’ ã‚³ãƒ¼ãƒ‰å‘ã‘å‡ºåŠ› |
| Slack ã§éŒ²éŸ³çµ‚äº† | "Slack" ã‚’æ¤œå‡º â†’ BIZ ãƒ¢ãƒ¼ãƒ‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé©ç”¨ â†’ ãƒ“ã‚¸ãƒã‚¹æ•¬èªã§å‡ºåŠ› |
| ãƒ¡ãƒ¢å¸³ã§éŒ²éŸ³çµ‚äº† | "ãƒ¡ãƒ¢å¸³" ã¾ãŸã¯ "Notepad" ã‚’æ¤œå‡º â†’ DOC ãƒ¢ãƒ¼ãƒ‰ã®ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆé©ç”¨ |
| æœªçŸ¥ã®ã‚¢ãƒ—ãƒªã§éŒ²éŸ³çµ‚äº† | ã‚«ãƒ†ã‚´ãƒªåˆ¤å®šå¤±æ•— â†’ STD ãƒ¢ãƒ¼ãƒ‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ â†’ æ¤œå‡ºå±¥æ­´ã«è¿½åŠ  |
| ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å–å¾—ã‚¨ãƒ©ãƒ¼ | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ› â†’ STD ãƒ¢ãƒ¼ãƒ‰ã§ç¶šè¡Œï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œã‚’ãƒ–ãƒ­ãƒƒã‚¯ã—ãªã„ï¼‰ |
| è¨­å®šç”»é¢ã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ  | æ–°ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã‚’ä¿å­˜ â†’ æ¬¡å›ã‹ã‚‰åˆ¤å®šã«åæ˜  |
| æ¤œå‡ºå±¥æ­´ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªå¤‰æ›´ | ã‚¢ãƒ—ãƒªåã‚’ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã¨ã—ã¦è©²å½“ã‚«ãƒ†ã‚´ãƒªã«è‡ªå‹•è¿½åŠ  |

---

## 7. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

| ID | ã‚·ãƒŠãƒªã‚ª | æ‰‹é † | æœŸå¾…çµæœ |
|:---|:---|:---|:---|
| TC-01 | Windows ã§ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ¤œå‡º | VS Code ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«ã—ã¦éŒ²éŸ³çµ‚äº† | DEV ãƒ¢ãƒ¼ãƒ‰ã§å‡¦ç†ã•ã‚Œã‚‹ |
| TC-02 | ã‚«ãƒ†ã‚´ãƒªåˆ¤å®š | "Visual Studio Code - main.py" ã‚’åˆ¤å®š | "DEV" ãŒè¿”ã‚‹ |
| TC-03 | æœªçŸ¥ã‚¢ãƒ—ãƒªã®ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ | åˆ¤å®šã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«è©²å½“ã—ãªã„ã‚¢ãƒ—ãƒªã§éŒ²éŸ³ | STD ãƒ¢ãƒ¼ãƒ‰ã§å‡¦ç†ã•ã‚Œã‚‹ |
| TC-04 | ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å–å¾—ã‚¨ãƒ©ãƒ¼ | æ¨©é™ã‚¨ãƒ©ãƒ¼æ™‚ | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›ã€STD ã§ç¶šè¡Œ |
| TC-05 | è¨­å®šç”»é¢ã§ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰è¿½åŠ  | "pycharm" ã‚’ DEV ã«è¿½åŠ ã—ã¦ä¿å­˜ | æ¬¡å› PyCharm ã§ DEV åˆ¤å®šã•ã‚Œã‚‹ |
| TC-06 | æ¤œå‡ºå±¥æ­´ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªå¤‰æ›´ | "Chrome" ã‚’ BIZ ã«å¤‰æ›´ | "chrome" ãŒ BIZ ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã«è¿½åŠ ã•ã‚Œã‚‹ |

---

## 8. å½±éŸ¿ç¯„å›²

| é ˜åŸŸ | å½±éŸ¿å†…å®¹ | å¯¾ç­– |
|:---|:---|:---|
| éŒ²éŸ³ãƒ•ãƒ­ãƒ¼ | éŒ²éŸ³çµ‚äº†æ™‚ã«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦å–å¾—å‡¦ç†è¿½åŠ  | éåŒæœŸå‡¦ç†ã§é…å»¶ã‚’æœ€å°åŒ– |
| AIå‡¦ç† | ã‚·ã‚¹ãƒ†ãƒ ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã®æ§‹æˆå¤‰æ›´ | æ—¢å­˜ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã¨ã®çµ±åˆè¨­è¨ˆ |
| è¨­å®šãƒ•ã‚¡ã‚¤ãƒ« | æ–°è¦ã‚­ãƒ¼è¿½åŠ  (`app_categories`, `category_prompts`, `detected_apps`) | ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ä¸è¦ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§åˆæœŸåŒ–ï¼‰ |
| UI | è¨­å®šç”»é¢ã«ã‚¿ãƒ–è¿½åŠ  | æ—¢å­˜ã‚¿ãƒ–æ§‹æˆã‚’ç¶­æŒ |

---

## 9. éæ©Ÿèƒ½è¦ä»¶

- **ãƒ¬ã‚¹ãƒãƒ³ã‚¹é€Ÿåº¦:** ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«å–å¾—ã«ã‚ˆã‚‹é…å»¶ã‚’50msä»¥å†…ã«æŠ‘ãˆã‚‹
- **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:** å–å¾—å¤±æ•—æ™‚ã¯è‡ªå‹•çš„ã« STD ãƒ¢ãƒ¼ãƒ‰ã«ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯
- **å¾Œæ–¹äº’æ›æ€§:** æ—¢å­˜ã® `settings.json` ã«æ–°ã‚­ãƒ¼ãŒãªãã¦ã‚‚ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã§å‹•ä½œ
- **ã‚¯ãƒ­ã‚¹ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ :** Windows / macOS / Linux ã™ã¹ã¦ã§å‹•ä½œ

---

## 10. å®Ÿè£…å®Œäº†é …ç›®

### ã‚¢ãƒ—ãƒªæœ¬ä½“
- [ ] `src/core/window_detector.py` - æ–°è¦ä½œæˆ
- [ ] `src/core/context_prompt.py` - æ–°è¦ä½œæˆ
- [ ] `src/core/config.py` - ã‚«ãƒ†ã‚´ãƒªè¨­å®šè¿½åŠ 
- [ ] `src/ui/overlay.py` - ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå–å¾—çµ±åˆ
- [ ] `src/ai/providers/groq.py` - å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ
- [ ] `src/ai/providers/gemini.py` - å‹•çš„ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆå¯¾å¿œ

### UI
- [ ] è¨­å®šç”»é¢ã€Œã‚¢ãƒ—ãƒªã‚«ãƒ†ã‚´ãƒªã€ã‚¿ãƒ–å®Ÿè£…
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ç·¨é›†æ©Ÿèƒ½
- [ ] æ¤œå‡ºæ¸ˆã¿ã‚¢ãƒ—ãƒªå±¥æ­´è¡¨ç¤º
- [ ] ã‚«ãƒ†ã‚´ãƒªåˆ¥ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆç·¨é›†æ©Ÿèƒ½

### ãƒ†ã‚¹ãƒˆ
- [ ] TC-01 ~ TC-06 ç¢ºèªå®Œäº†

---

## 11. è£œè¶³ãƒ»å‚è€ƒè³‡æ–™

### Pythonã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦æ¤œå‡ºï¼‰

```python
# window_detector.py
import platform
import subprocess
import logging

def get_active_window() -> dict:
    """ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã®æƒ…å ±ã‚’å–å¾—"""
    system = platform.system()
    result = {"title": "", "process": "", "app_name": ""}
    
    try:
        if system == "Windows":
            result = _get_active_window_windows()
        elif system == "Darwin":
            result = _get_active_window_macos()
        elif system == "Linux":
            result = _get_active_window_linux()
    except Exception as e:
        logging.warning(f"Failed to get active window: {e}")
    
    return result

def _get_active_window_windows() -> dict:
    import ctypes
    from ctypes import wintypes
    
    user32 = ctypes.windll.user32
    hwnd = user32.GetForegroundWindow()
    
    length = user32.GetWindowTextLengthW(hwnd)
    buf = ctypes.create_unicode_buffer(length + 1)
    user32.GetWindowTextW(hwnd, buf, length + 1)
    
    return {"title": buf.value, "process": "", "app_name": buf.value}
```

### Pythonã‚³ãƒ¼ãƒ‰ã‚µãƒ³ãƒ—ãƒ«ï¼ˆã‚«ãƒ†ã‚´ãƒªåˆ¤å®šï¼‰

```python
# context_prompt.py
def detect_category(window_title: str, categories: dict) -> str:
    """ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚¿ã‚¤ãƒˆãƒ«ã‹ã‚‰ã‚«ãƒ†ã‚´ãƒªã‚’åˆ¤å®š"""
    if not window_title:
        return "STD"
    
    title_lower = window_title.lower()
    
    for category_id, keywords in categories.items():
        if category_id == "STD":
            continue
        if any(kw.lower() in title_lower for kw in keywords):
            return category_id
    
    return "STD"
```

---

## å¤‰æ›´å±¥æ­´

| æ—¥ä»˜ | å¤‰æ›´è€… | å†…å®¹ |
|:---|:---|:---|
| 2024-12-28 | - | åˆç‰ˆä½œæˆ |
